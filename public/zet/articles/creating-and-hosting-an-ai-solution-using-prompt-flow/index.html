<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Creating and Hosting an AI Solution Using Prompt Flow | Radek Padrta</title>
<meta name=keywords content="Azure,AI,Prompt flow,Machine Learning,LLMOps"><meta name=description content="Creating and Hosting an AI Solution Using Prompt Flow Let&rsquo;s talk about why we chose the Prompt Flow. In the AI world, we wanted to have one place where we could build our AI solutions and we wanted to have platform where other developers could easily collaborate. And this is a great use case for Prompt Flow, which works as an orchestration tool for our builds.
We built two solutions. Our vision was to get metadata from some article and alternative text from pictures, and then each solution needed a final step: a translator to translate the results into different languages."><meta name=author content="Radek Padrta"><link rel=canonical href=http://localhost:1313/zet/articles/creating-and-hosting-an-ai-solution-using-prompt-flow/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c44adcef3ae837ceecb92a104eb2d1f4ef5440972be41f8e565035e7ee0e35a4.css integrity="sha256-xErc7zroN87suSoQTrLR9O9UQJcr5B+OVlA15+4ONaQ=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=alternate hreflang=en href=http://localhost:1313/zet/articles/creating-and-hosting-an-ai-solution-using-prompt-flow/><script async src="https://www.googletagmanager.com/gtag/js?id=G-BGXYV0CH1C"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-BGXYV0CH1C")}</script><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating and Hosting an AI Solution Using Prompt Flow | Radek Padrta"><meta name=twitter:description content="Creating and Hosting an AI Solution Using Prompt Flow Let&rsquo;s talk about why we chose the Prompt Flow. In the AI world, we wanted to have one place where we could build our AI solutions and we wanted to have platform where other developers could easily collaborate. And this is a great use case for Prompt Flow, which works as an orchestration tool for our builds.
We built two solutions. Our vision was to get metadata from some article and alternative text from pictures, and then each solution needed a final step: a translator to translate the results into different languages."><meta property="og:title" content="Creating and Hosting an AI Solution Using Prompt Flow | Radek Padrta"><meta property="og:description" content="Creating and Hosting an AI Solution Using Prompt Flow Let&rsquo;s talk about why we chose the Prompt Flow. In the AI world, we wanted to have one place where we could build our AI solutions and we wanted to have platform where other developers could easily collaborate. And this is a great use case for Prompt Flow, which works as an orchestration tool for our builds.
We built two solutions. Our vision was to get metadata from some article and alternative text from pictures, and then each solution needed a final step: a translator to translate the results into different languages."><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/zet/articles/creating-and-hosting-an-ai-solution-using-prompt-flow/"><meta property="og:image" content="https://radekapadrta.cz/cloud-blue-logo.jpeg"><meta property="article:section" content="zet"><meta property="article:published_time" content="2024-07-12T00:00:00+00:00"><meta property="article:modified_time" content="2024-07-12T00:00:00+00:00"><meta property="og:site_name" content="Radek Padrta - Blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Zettelkasten","item":"http://localhost:1313/zet/"},{"@type":"ListItem","position":2,"name":"Creating and Hosting an AI Solution Using Prompt Flow","item":"http://localhost:1313/zet/articles/creating-and-hosting-an-ai-solution-using-prompt-flow/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Creating and Hosting an AI Solution Using Prompt Flow | Radek Padrta","name":"Creating and Hosting an AI Solution Using Prompt Flow","description":"Creating and Hosting an AI Solution Using Prompt Flow Let\u0026rsquo;s talk about why we chose the Prompt Flow. In the AI world, we wanted to have one place where we could build our AI solutions and we wanted to have platform where other developers could easily collaborate. And this is a great use case for Prompt Flow, which works as an orchestration tool for our builds.\nWe built two solutions. Our vision was to get metadata from some article and alternative text from pictures, and then each solution needed a final step: a translator to translate the results into different languages.","keywords":["Azure","AI","Prompt flow","Machine Learning","LLMOps"],"wordCount":"485","inLanguage":"en","datePublished":"2024-07-12T00:00:00Z","dateModified":"2024-07-12T00:00:00Z","author":[{"@type":"Person","name":"Radek Padrta"}],"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/zet/articles/creating-and-hosting-an-ai-solution-using-prompt-flow/"},"publisher":{"@type":"Organization","name":"Radek Padrta","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary-bg:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list-page{background:var(--theme)}.list-page:not(.dark)::-webkit-scrollbar-track{background:0 0}.list-page:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript></head><body class="type-zet kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="auto",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Radek Padrta (Alt + H)"><img src=http://localhost:1313/cloudhammer.svg alt=logo aria-label=logo height=30 width=30>Radek Padrta</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://localhost:1313/aboutme/ title=About>About</a></li><li><a href=http://localhost:1313/tags/ title=Tags>Tags</a></li><li><a href=http://localhost:1313/archives/ title=Index>Index</a></li><li><a href=http://localhost:1313/search/ title="üîç (Alt + /)" data-no-instant accesskey=/>üîç</a></li></ul></nav></header><main class="main post"><article class=post-single><header class=post-header><h1 class=post-title>Creating and Hosting an AI Solution Using Prompt Flow</h1><div class=post-meta><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg>
<span>July 12, 2024</span></span><span class=meta-item>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select:text"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z" style="user-select:text"/><line x1="7" y1="7" x2="7" y2="7" style="user-select:text"/></svg>
<span class=post-tags><a href=http://localhost:1313/tags/azure/>Azure</a><a href=http://localhost:1313/tags/ai/>AI</a><a href=http://localhost:1313/tags/prompt-flow/>Prompt Flow</a><a href=http://localhost:1313/tags/machine-learning/>Machine Learning</a><a href=http://localhost:1313/tags/llmops/>LLMOps</a></span></span></div></header><div class=post-content><h2 id=creating-and-hosting-an-ai-solution-using-prompt-flow>Creating and Hosting an AI Solution Using Prompt Flow<a hidden class=anchor aria-hidden=true href=#creating-and-hosting-an-ai-solution-using-prompt-flow>¬∂</a></h2><p>Let&rsquo;s talk about why we chose the Prompt Flow.
In the AI world, we wanted to have one place where we could build our AI solutions and we wanted to have platform where other developers could easily collaborate. And this is a great use case for Prompt Flow, which works as an orchestration tool for our builds.</p><p>We built two solutions. Our vision was to get metadata from some article and alternative text from pictures, and then each solution needed a final step: a translator to translate the results into different languages.</p><p>And these two solutions were created through the Prompt Flow. <a href=https://github.com/radekpadrta/MamboJambo_PromptFlow>Source code here</a></p><p>When we built the solution through Prompt Flow, our next step was to create an endpoint where the solution could be hosted and wait for travelers (requests).</p><h3 id=how-did-we-do-that>How Did We Do That?<a hidden class=anchor aria-hidden=true href=#how-did-we-do-that>¬∂</a></h3><p>When we create builds on Prompt flow, we used the Machine Learning Workspace, which also has an option to create the endpoint. Creating the endpoint was a simple task, but how could we assign the Prompt Flow solution to the endpoint, right?</p><h3 id=where-the-fun-begins>Where the Fun Begins<a hidden class=anchor aria-hidden=true href=#where-the-fun-begins>¬∂</a></h3><p>The solution needs to be packaged first, and that the need for us to create a <strong>model</strong> in MLW. It means: Prompt Flow build become a Model. Once we have the model, we can create an empty endpoint, which will wait for our model. However, to complete this, we need to create an Environment.</p><p>The Environment for building our model needs to be somehow added to the endpoint, and the environment is something that will handle the deployment. If you remember from the start, I mentioned that our use case also needed a translator, right? This is a small problem for the environment because we can&rsquo;t use a pre-built environment and we need to create our own.</p><h3 id=why>Why?<a hidden class=anchor aria-hidden=true href=#why>¬∂</a></h3><p>The translator isn&rsquo;t included by default in Prompt Flow, but you can install packages in Prompt Flow. That is why you need to have the package also in your environment. We used a predefined image and we added the RUN command for the translator package. That is how we built the environment through Dockerfile and ACR. We hosted the Docker image in Azure Container Registry.</p><p>Ok, we have Prompt Flow (Builds) - Model - Endpoint (Empty) - Environment. So what is the next and the last step to push travelers(request) to the castle(endpoint) ?</p><h3 id=deployment-facing-the-final-boss>Deployment: Facing the Final Boss<a hidden class=anchor aria-hidden=true href=#deployment-facing-the-final-boss>¬∂</a></h3><p>Deployment
This is last boss who is waiting for us and need to be finished. Here we need to gather all the information about our previous road - model, environment, and the endpoint need to be entered to the deployment, but we also need to provide SKU (VM) and assign the traffic.</p><p>Then if we get green light, the boss is finished and our castle can welcome travelers.</p><p>More about the project will be added soon.</p></div><footer class=post-footer><nav class=paginav><a class=next href=http://localhost:1313/zet/articles/road-to-az104/><span class=title>Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select:text"><line x1="5" y1="12" x2="19" y2="12" style="user-select:text"/><polyline points="12 5 19 12 12 19" style="user-select:text"/></svg></span><br><span>Road to AZ104</span></a></nav></footer><div class=comments-separator></div></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Radek Padrta</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a>
</span><span style=display:inline-block;margin-left:1em><a href=https://www.linkedin.com/in/radekpadrta/ rel=noopener target=_blank>Linkedin</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>(function(){const t=""=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n=""=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/js/medium-zoom.min.js data-no-instant></script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>(function(){const a=""=="1";if(!a)return;if(!document.querySelector(".toc")){console.log("no toc found, ignore toc scroll");return}const r=window.scrollListeners,t=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id]"),n="active";let e=t[0];o(e).classList.add(n);const c=()=>{const s=[];for(const e of t)if(l(e)<5)s.push(e);else break;s.length>0?newActiveHeading=s[s.length-1]:newActiveHeading=t[0],e!=newActiveHeading&&(o(e).classList.remove(n),e=newActiveHeading,o(e).classList.add(n))};let s=null;const i=()=>{s!==null&&clearTimeout(s),s=setTimeout(c,50)};window.addEventListener("scroll",i,!1),r.push(i);function o(e){const t=encodeURI(e.getAttribute("id")).toLowerCase();return document.querySelector(`.toc ul li a[href="#${t}"]`)}function l(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();return t.top}})()</script></body></html>